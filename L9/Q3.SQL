SET SERVEROUTPUT ON
DECLARE
CURSOR C IS (SELECT COURSE_ID,TITLE,DEPT_NAME,CREDITS,COUNT(TAKES.ID) AS NO_OF_STUDENTS FROM TAKES NATURAL JOIN COURSE GROUP BY(COURSE_ID,TITLE,DEPT_NAME,CREDITS));
BEGIN
FOR BK IN C LOOP
DBMS_OUTPUT.PUT_LINE('CID:'||BK.COURSE_ID||'  TITLE:'||BK.TITLE||'  DEPT_NAME:'||BK.DEPT_NAME||'  CREDITS:'||BK.CREDITS||'  NO. OF STUDENTS:'||BK.NO_OF_STUDENTS);
END LOOP;
END;
/